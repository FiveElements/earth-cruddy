<link rel="import" href="../polymer/polymer-element.html">

<!-- Ensure Web Animations polyfill is loaded since neon-animation 2.0 doesn't import it -->
<link rel="import" href="../neon-animation/web-animations.html">


<dom-module id="earth-dropdown-trigger">
    <template>
        <style>
            :host {
                display: inline-block;
                margin: 1em;
            }
        </style>
        <div on-tap="open">
            <slot name="dropdown-trigger"></slot>
        </div>
        <iron-dropdown id="dropdown"
                       vertical-align="[[verticalAlign]]"
                       horizontal-align="[[horizontalAlign]]"
                       disabled="[[disabled]]"
                       open-animation-config="[[openAnimationConfig]]"
                       close-animation-config="[[closeAnimationConfig]]">
            <slot name="dropdown-content" slot="dropdown-content"></slot>
        </iron-dropdown>
    </template>

    <script>
        /**
         * `earth-dropdown-trigger`
         *
         *
         * @customElement
         * @polymer
         * @demo demo/index.html
         */
        class EarthDropdownTrigger extends Polymer.Element {
            static get is() {
                return 'earth-dropdown-trigger';
            }

            static get properties() {
                return {
                    verticalAlign: {
                        type: String,
                        value: 'top'
                    },
                    horizontalAlign: {
                        type: String,
                        value: 'right'
                    },
                    disabled: Boolean,
                    openAnimationConfig: {
                        type: Array,
                        value: function() {
                            return [{
                                name: 'fade-in-animation',
                                timing: {
                                    delay: 150,
                                    duration: 50
                                }
                            }, {
                                name: 'expand-animation',
                                timing: {
                                    delay: 150,
                                    duration: 200
                                }
                            }];
                        }
                    },
                    closeAnimationConfig: {
                        type: Array,
                        value: function() {
                            return [{
                                name: 'fade-out-animation',
                                timing: {
                                    duration: 200
                                }
                            }];
                        }
                    }

                };
            }

            open() {
                this.$.dropdown.open();
            }
        }

        window.customElements.define(EarthDropdownTrigger.is, EarthDropdownTrigger);
    </script>
</dom-module>
